var R=Object.defineProperty;var V=(s,o,t)=>o in s?R(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t;var y=(s,o,t)=>(V(s,typeof o!="symbol"?o+"":o,t),t);import{d as g,o as d,e as c,b as a,u as p,X as L,a as e,w as u,j as U,g as m,n as D,r as F,f as P,t as h,z as H,c as I,F as M,h as j,s as J}from"./app-8d522d75.js";import{_ as E,A as G,a as w,b as k}from"./ResponsiveNavLink-230b4213.js";import{T as X,D as _,G as q,d as K}from"./datetime-c20db84a.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{O as N}from"./OutlinedButton-42c990ee.js";const W={class:"min-h-screen from-[#F9F5F3] via-[#F9F5F3] to-[#F9F5F3] bg-gradient-to-br"},Y={class:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ee={class:"flex justify-between h-16"},te={class:"flex"},oe={class:"shrink-0 flex items-center"},se={class:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex"},ne={class:"-mr-2 flex items-center sm:hidden"},ae={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},re={class:"pt-2 pb-3 space-y-1"},ie={key:0,class:"bg-white dark:bg-gray-800 shadow"},le={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},de={__name:"BookingLayout",props:{title:String},setup(s){const o=g(!1);return(t,l)=>(d(),c("div",null,[a(p(L),{title:s.title},null,8,["title"]),a(E),e("div",W,[e("nav",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[a(p(U),{href:t.route("dashboard")},{default:u(()=>[a(G,{class:"block h-9 w-auto"})]),_:1},8,["href"])]),e("div",se,[a(w,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:u(()=>[m(" Dashboard ")]),_:1},8,["href","active"]),a(w,{href:t.route("bookings.index"),active:t.route().current("bookings.*")},{default:u(()=>[m(" Reservaciones ")]),_:1},8,["href","active"]),a(w,{href:t.route("rooms.index"),active:t.route().current("rooms.*")},{default:u(()=>[m(" Habitaciones ")]),_:1},8,["href","active"]),a(w,{href:t.route("distribution.index"),active:t.route().current("distribution.*")},{default:u(()=>[m(" Distribución ")]),_:1},8,["href","active"])])]),e("div",ne,[e("button",{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900 focus:outline-none focus:bg-gray-100 dark:focus:bg-gray-900 focus:text-gray-500 dark:focus:text-gray-400 transition duration-150 ease-in-out",onClick:l[0]||(l[0]=f=>o.value=!o.value)},[(d(),c("svg",ae,[e("path",{class:D({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:D({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:D([{block:o.value,hidden:!o.value},"sm:hidden"])},[e("div",re,[a(k,{href:t.route("dashboard"),active:t.route().current("dashboard")},{default:u(()=>[m(" Dashboard ")]),_:1},8,["href","active"]),a(k,{href:t.route("bookings.index"),active:t.route().current("bookings.*")},{default:u(()=>[m(" Reservaciones ")]),_:1},8,["href","active"]),a(k,{href:t.route("rooms.index"),active:t.route().current("rooms.*")},{default:u(()=>[m(" Habitaciones ")]),_:1},8,["href","active"]),a(k,{href:t.route("distribution.index"),active:t.route().current("distribution.*")},{default:u(()=>[m(" Distribución ")]),_:1},8,["href","active"])])],2)]),t.$slots.header?(d(),c("header",ie,[e("div",le,[F(t.$slots,"header")])])):P("",!0),e("main",null,[F(t.$slots,"default")])])]))}},ce={class:"flex items-center justify-center min-h-screen md:min-h-0 md:py-8 from-[#F9F5F3] via-[#F9F5F3] to-[#F9F5F3] bg-gradient-to-br px-2"},ue={class:"w-full max-w-md md:max-w-5xl xl:max-w-7xl mx-auto bg-white rounded-3xl shadow-xl transition-all duration-300 hover:shadow-yellow-cta/25 hover:shadow-xl overflow-hidden"},me={class:"max-w-md md:max-w-5xl xl:max-w-7xl mx-auto md:flex md:flex-row md:justify-between"},fe={class:"h-[14.75rem] md:h-[21.25rem] md:w-2/5 bg-cover bg-center overflow-hidden"},he=["src","alt"],pe={class:"md:h-[21.25rem] p-4 sm:p-6 md:w-3/5"},ve={class:"font-bold text-gray-700 text-[22px] leading-7 mb-1"},xe={key:0,class:"flex flex-row"},ge={class:"text-[#3C3C4399] text-[17px] mr-2 text-base"},_e={class:"text-[17px] font-bold text-[#0FB478]"},be={class:"text-xs text-[#3C3C4399]"},ye={key:1,class:"flex flex-row"},we={class:"text-[#3C3C4399] text-[17px] mr-2 text-base"},ke=e("p",{class:"text-[17px] font-bold text-[#0FB478]"},"No disponible",-1),$e={class:"text-xs text-[#3C3C4399] flex flex-row mt-3 gap-2"},De={class:"text-[#7C7C80] font-[15px] mt-6"},Ce={key:2,href:"#",class:"block mt-10 w-full px-4 py-3 font-medium tracking-wide text-center capitalize transition-colors duration-300 transform bg-[#FFC933] rounded-[14px] hover:bg-[#FFC933DD] focus:outline-none focus:ring focus:ring-teal-300 focus:ring-opacity-80"},Fe={key:3,href:"#",class:"block mt-10 w-full px-4 py-3 font-medium tracking-wide text-center capitalize transition-colors duration-300 transform rounded-[14px] border border-[#FFC933] focus:outline-none focus:ring focus:ring-teal-300 focus:ring-opacity-80"},T={__name:"BookingRoomCard",props:{room:Object},setup(s){const o=s,t=l=>X(l).getOnlyTaxes;return(l,f)=>(d(),c("div",ce,[e("div",ue,[e("div",me,[e("div",fe,[e("img",{class:"w-full h-full object-cover object-center transition-transform duration-300 hover:scale-110",src:o.room.room.cover,alt:o.room.room.name},null,8,he)]),e("div",pe,[e("p",ve,h(o.room.room.name),1),s.room.canBeBooked?(d(),c("div",xe,[e("p",ge,"Precio x"+h(s.room.nights)+" noches",1),e("p",_e,[m(h(s.room.price_string)+" ",1),e("span",be," +(MXN $"+h(t(s.room.price))+")",1)])])):(d(),c("div",ye,[e("p",we,"Precio x"+h(s.room.nights)+" noches",1),ke])),e("div",$e,[e("p",null,"capacidad base: "+h(o.room.room.baseCapacity),1),e("p",null,"capacidad maxima: "+h(o.room.room.maxCapacity),1)]),e("p",De,h(o.room.room.description),1),s.room.canBeBooked?(d(),c("a",Ce," Reservar ahora ")):(d(),c("a",Fe," No Disponible "))])])])]))}},Se={},Be={class:"block mt-10 w-full px-4 py-3 font-medium tracking-wide text-center capitalize transition-colors duration-300 transform bg-sky-500 rounded-[14px] hover:bg-sky-600 focus:outline-none focus:ring focus:ring-teal-300 focus:ring-opacity-80"};function Me(s,o){return d(),c("button",Be,[F(s.$slots,"default")])}const je=Q(Se,[["render",Me]]),Ne={class:"flex text-center items-center"},Te=e("span",null,"-",-1),Pe={class:"pl-3 pr-3 py-1 w-10"},ze={class:"my-auto font-bold"},Ae=["value"],Oe=e("span",null,"+",-1),$={__name:"Counter",props:{counter:{type:Number,default:0},step:{type:Number,default:1},maxCount:{type:Number,default:99999},minCount:{type:Number,default:0}},emits:["update:counter"],setup(s){return(o,t)=>(d(),c("div",Ne,[a(N,{onClick:t[0]||(t[0]=l=>s.counter>s.minCount?o.$emit("update:counter",s.counter-=s.step):null),class:"px-3 py-1 border rounded"},{default:u(()=>[Te]),_:1}),e("div",Pe,[e("span",ze,h(s.counter),1),e("input",{hidden:"",type:"number",class:"hidden",value:s.counter,onInput:t[1]||(t[1]=l=>o.$emit("update:counter",l.target.value))},null,40,Ae)]),a(N,{onClick:t[2]||(t[2]=l=>s.counter<s.maxCount?o.$emit("update:counter",s.counter+=s.step):null),class:"px-3 py-1 border rounded"},{default:u(()=>[Oe]),_:1})]))}},S=()=>{const s=new Date,o=new Date(new Date().setDate(s.getDate()+1));return[s,o]},Re=()=>{const s=_.now(),o=s.year,t=s.plus({years:2}).year,l=s.month,f=s.plus({years:2}).month,n=s,v=s.plus({years:2});return{min_year:o,max_year:t,min_month:l,max_month:f,min_date:n.toString(),max_date:v.toString()}},Ve=s=>{const[o,t]=s??S(),l=_.fromJSDate(o),f=_.fromJSDate(t??o),n=l.setLocale("es").toFormat("ccc, dd MMM"),v=f.setLocale("es").toFormat("ccc, dd MMM");return`${n} - ${v}`};class Le{constructor(o,t){y(this,"startDate");y(this,"endDate");y(this,"period");this.startDate=o,this.endDate=t,this.period=this.getDefaultPeriod()}getDefaultPeriod(){return S()}getMinDateSettings(){return Re()}periodToString(o=this.period){return Ve(o)}periodToFormatString(o=this.period){return this.formatPeriod(o)}}const C=new Le(S());const Ue={class:"mx-auto w-full max-w-md md:max-w-5xl xl:max-w-7xl"},He={class:"md:grid md:grid-cols-6 md:items-center md:justify-center md:gap-8 bg-white rounded-[14px] p-4 text-[#3C3C4399] mt-4 border border-yellow-cta"},Ie={class:"md:col-span-2 mt-4 md:mt-0 relative"},Je=e("label",{for:"dates",class:"absolute text-sm z-10 -top-3 left-4 bg-white"},"Seleccione las fechas",-1),Ee={class:"md:col-span-2 mt-8 md:mt-0 relative"},Ge={class:"relative"},Xe=e("label",{for:"dates",class:"absolute text-sm z-10 -top-3 left-4 bg-white"},"Seleccione las fechas",-1),qe=["placeholder"],Ke=e("p",{class:"font-bold"},"Seleccione las habitaciones y los huespedes",-1),Qe={class:"flex justify-end items-center"},We=e("span",{class:"mr-4"},"Adultos: ",-1),Ye={class:"flex justify-end items-center"},Ze=e("span",{class:"mr-4"},"Niños: ",-1),et={class:"flex justify-end items-center"},tt=e("span",{class:"mr-4"},"Infantes: ",-1),ot={class:"flex justify-end items-center"},st=e("span",{class:"mr-4"},"Habitaciones: ",-1),nt={key:0},at={key:1},mt={__name:"Show",props:{settings:Object,distribution:Object},setup(s){const o=s,t=g(),l=g(!1),f=g(!1),n=g(o.settings),v=g(!1);H(()=>{t.value=C.getDefaultPeriod()});const b=C.getMinDateSettings(),z=([x,r])=>{const i=_.fromJSDate(x),B=_.fromJSDate(r??x);return n.value.checkin=i.toISODate(),n.value.checkout=B.toISODate(),n.value.nights=B.diff(i,"days").days,C.periodToString([x,r])},A=async()=>{const x={adults:n.value.adults,children:n.value.children,infants:n.value.infants,rooms:n.value.rooms,checkin:n.value.checkin,checkout:n.value.checkout},{data:r}=await J.get(route("booking.getAvailabilityDate",x));v.value=r.distribution,f.value=!f.value},O=()=>{console.clear(),A()};return(x,r)=>(d(),I(de,{title:"Hotel Casino Plaza"},{default:u(()=>[e("section",Ue,[e("div",He,[e("div",Ie,[Je,a(p(q),{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i),placeholder:"Seleccione un rango de fechas","enable-time-picker":!1,locale:"es",format:z,range:"","min-date":p(b).min_date,"max-date":p(b).max_date,"year-range":[p(b).min_year,p(b).max_year],cancelText:"cancelar",selectText:"Seleccionar"},null,8,["modelValue","min-date","max-date","year-range"])]),e("div",Ee,[e("div",Ge,[Xe,e("input",{onClick:r[1]||(r[1]=i=>l.value=!l.value),type:"text",readonly:"",class:"border border-[#ddd] rounded w-full",placeholder:p(K)(n.value.rooms,n.value.adults+n.value.children),inputmode:"none",autocomplete:"off"},null,8,qe)]),l.value?(d(),c("section",{key:0,onMouseleave:r[6]||(r[6]=i=>l.value=!1),class:"md:col-span-2 flex flex-col gap-3 w-80 xl:w-64 mt-2 p-4 rounded-md bg-white absolute origin-top-right right-4 ring-1 z-10 ring-black ring-opacity-5 focus:outline-none shadow-2xl",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button"},[Ke,e("div",Qe,[We,a($,{counter:n.value.adults,"onUpdate:counter":r[2]||(r[2]=i=>n.value.adults=i)},null,8,["counter"])]),e("div",Ye,[Ze,a($,{counter:n.value.children,"onUpdate:counter":r[3]||(r[3]=i=>n.value.children=i)},null,8,["counter"])]),e("div",et,[tt,a($,{counter:n.value.infants,"onUpdate:counter":r[4]||(r[4]=i=>n.value.infants=i)},null,8,["counter"])]),e("div",ot,[st,a($,{counter:n.value.rooms,"onUpdate:counter":r[5]||(r[5]=i=>n.value.rooms=i)},null,8,["counter"])])],32)):P("",!0)]),a(je,{class:"md:col-span-2 mt-8 md:mt-0 text-white",onClick:r[7]||(r[7]=i=>O())},{default:u(()=>[m(" Buscar ")]),_:1})])]),f.value?(d(),c("section",at,[(d(!0),c(M,null,j(v.value,i=>(d(),c("article",null,[a(T,{settings:n.value,room:i},null,8,["settings","room"])]))),256))])):(d(),c("section",nt,[(d(!0),c(M,null,j(o.distribution,i=>(d(),c("article",null,[a(T,{settings:n.value,room:i},null,8,["settings","room"])]))),256))]))]),_:1}))}};export{mt as default};
