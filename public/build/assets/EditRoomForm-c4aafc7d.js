import{v as $,d as x,c as B,w as i,o as v,g as d,a as s,b as e,e as h,i as g,G as w,u as o,l as M,z as N,n as P}from"./app-bfb808c4.js";import{_ as U}from"./ActionMessage-0a06c8d9.js";import{_ as E}from"./FormSection-a283d74a.js";import{a as c,_ as u}from"./TextInput-d81efb9b.js";import{_ as n}from"./InputLabel-3b26ba15.js";import{_ as D}from"./PrimaryButton-addb6753.js";import{_ as I}from"./SecondaryButton-e715ad25.js";import k from"./Dropzone-f545212c.js";import{_ as y}from"./Tooltip-8f56a8e7.js";import"./SectionTitle-54834a65.js";import"./_plugin-vue_export-helper-c27b6911.js";const R={class:"col-span-6 sm:col-span-4"},A={class:"flex"},F=s("div",{class:"tooltip group text-white relative whitespace-nowrap"},[s("svg",{class:"fill-white w-6 ml-4 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm168-72c0-30.9 25.1-56 56-56h56.9c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4V272v24H232V272 250.5 236.6l12.1-6.9 44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H224c-4.4 0-8 3.6-8 8l0 6.5-48 0V184zm64 152h48v48H232V336z"})]),s("span",{class:"after:content-[''] after:absolute after:bottom-full after:left-1/2 after:-mr-1 after:border-[5px] after:border-solid after:border-b-2-transparent after:border-t-transparent after:border-r-transparent after:border-l-transparent tooltiptext invisible group-hover:visible absolute top-[125%] left-1/2 -translate-x-1/2 w-max max-w-[17rem] px-4 py-1 bg-white text-black/60 rounded whitespace-pre-wrap"},"Esta sera la imagen que salga primero")],-1),T={key:0,class:"mt-2"},H={key:1,class:"mt-2"},L={class:"col-span-6 sm:col-span-4"},q={class:"flex"},j={class:"col-span-6 sm:col-span-4"},G={class:"flex"},O=s("br",null,null,-1),X={class:"col-span-6 sm:col-span-2"},J={class:"col-span-6 sm:col-span-2"},K={class:"col-span-6 sm:col-span-4"},Q=s("br",null,null,-1),W={class:"hidden col-span-6 sm:col-span-4"},Y={class:"flex"},me={__name:"EditRoomForm",props:{room:Object},setup(V){const r=V,a=$({_method:"PUT",type:r.room.type,name:r.room.name,description:r.room.description,base_capacity:r.room.base_capacity.toString(),max_capacity:r.room.max_capacity.toString(),base_price:r.room.base_price.toString(),cover:null}),_=x(null),m=x(null),S=1024*1024*2,C=()=>{m.value&&m.value.files[0]&&(a.cover=m.value.files[0]),a.post(route("rooms.update",{roomId:r.room.id}),{errorBag:"storeRoom",preserveScroll:!0,onSuccess:p=>{console.log(p)},onError:p=>{console.log(p)}})},f=()=>{m.value.click()},b=(p=null)=>{const t=m.value.files[0]??p;if(!t)return;if(t.size&&t.size>S)return alert("La imagen no puede ser mayor a 2MB");a.cover=t;const l=new FileReader;l.onload=z=>{_.value=z.target.result},l.readAsDataURL(t)};return console.log(r.room),(p,t)=>(v(),B(E,{onSubmitted:C},{title:i(()=>[d(" Información de la habitación ")]),description:i(()=>[d(" Edita una habitación. ")]),form:i(()=>[s("div",R,[s("input",{ref_key:"photoInput",ref:m,type:"file",class:"hidden",onChange:b},null,544),s("div",A,[e(n,{for:"photo",value:"Imagen Principal"}),F]),_.value?(v(),h("div",T,[e(k,{onClick:g(f,["prevent"]),onFileDropped:b,style:w(_.value?"background-image: url('"+_.value+"');":"")},null,8,["onClick","style"])])):(v(),h("div",H,[e(k,{onClick:g(f,["prevent"]),onFileDropped:b,style:w(r.room.cover?"background-image: url('/storage/"+r.room.cover+"');":"")},null,8,["onClick","style"])])),e(I,{class:"mt-2 mr-2",type:"button",onClick:g(f,["prevent"])},{default:i(()=>[d(" Select A New Photo ")]),_:1},8,["onClick"]),e(c,{message:o(a).errors.photo,class:"mt-2"},null,8,["message"])]),s("div",L,[s("div",q,[e(n,{for:"name",value:"Nombre"}),e(y,{text:"El nombre que se mostrara al publico"})]),e(u,{id:"name",modelValue:o(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>o(a).name=l),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),e(c,{message:o(a).errors.name,class:"mt-2"},null,8,["message"])]),s("div",j,[s("div",G,[e(n,{for:"type",value:"Tipo"}),e(y,{text:"Nombre interno o referencia interna de la habitación, Sencilla, Doble Suite etc.."})]),e(u,{id:"type",modelValue:o(a).type,"onUpdate:modelValue":t[1]||(t[1]=l=>o(a).type=l),type:"text",class:"mt-1 block w-full",autocomplete:"type"},null,8,["modelValue"]),e(c,{message:o(a).errors.type,class:"mt-2"},null,8,["message"])]),O,s("div",X,[e(n,{for:"base_capacity",value:"Capacidad Base"}),e(u,{id:"base_capacity",modelValue:o(a).base_capacity,"onUpdate:modelValue":t[2]||(t[2]=l=>o(a).base_capacity=l),type:"text",class:"mt-1 block w-full",autocomplete:"base_capacity"},null,8,["modelValue"]),e(c,{message:o(a).errors.base_capacity,class:"mt-2"},null,8,["message"])]),s("div",J,[e(n,{for:"max_capacity",value:"Capacidad Maxima"}),e(u,{id:"max_capacity",modelValue:o(a).max_capacity,"onUpdate:modelValue":t[3]||(t[3]=l=>o(a).max_capacity=l),type:"text",class:"mt-1 block w-full",autocomplete:"max_capacity"},null,8,["modelValue"]),e(c,{message:o(a).errors.max_capacity,class:"mt-2"},null,8,["message"])]),s("div",K,[e(n,{for:"description",value:"Descripción"}),M(s("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=l=>o(a).description=l),type:"description",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",autocomplete:"description"},null,512),[[N,o(a).description]]),e(c,{message:o(a).errors.description,class:"mt-2"},null,8,["message"])]),Q,s("div",W,[s("div",Y,[e(n,{for:"base_price",value:"Precio base"}),e(y,{text:"Este sera el precio en MXN minimo sin impuestos para el tipo de habitación"})]),e(u,{id:"base_price",modelValue:o(a).base_price,"onUpdate:modelValue":t[5]||(t[5]=l=>o(a).base_price=l),type:"text",class:"mt-1 block w-full",autocomplete:"base_price"},null,8,["modelValue"]),e(c,{message:o(a).errors.base_price,class:"mt-2"},null,8,["message"])])]),actions:i(()=>[e(U,{on:o(a).recentlySuccessful,class:"mr-3"},{default:i(()=>[d(" Saved. ")]),_:1},8,["on"]),e(D,{class:P({"opacity-25":o(a).processing}),disabled:o(a).processing},{default:i(()=>[d(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{me as default};
