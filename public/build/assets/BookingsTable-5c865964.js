import{d as m,y as w,e as l,a as t,F as v,h as C,t as o,b as i,w as x,u as p,f as c,o as d,g as h,j as y}from"./app-dfd7e39b.js";import{S as g}from"./sweetalert2.all-cc7a4f9f.js";const L={class:"p-3 py-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},T=t("div",{class:"flex justify-between items-center mb-8"},[t("h1",{class:"text-2xl font-medium text-gray-900 dark:text-white mb-4"}," Ultimas reservaciones ")],-1),j={class:"text-white inner-shadow shadow-xl overflow-auto border border-gray-200 dark:border-gray-700 md:rounded-lg"},B={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 cursor-pointer"},S=t("thead",null,[t("tr",null,[t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"ID"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Huesped"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Check-In"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Check-Out"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Habitación"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Precio"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-left text-gray-500 dark:text-gray-400"},"Creada el"),t("th",{class:"lg:px-4 px-6 lg:py-3.5 py-6 font-bold text-right text-gray-500 dark:text-gray-400"},[t("svg",{class:"w-6 text-right fill-current text-grey-dark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[t("path",{d:"M4 12a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm6 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"})])])])],-1),V={class:"bg-white divide-y shadow-inner divide-gray-200 dark:divide-gray-700 dark:bg-gray-900"},D={class:"dark:hover:bg-gray-600 hover:bg-gray-100"},z={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-base font-bold text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},M={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},N={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},O={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},$={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},I={class:"text-xs text-gray-500/40 dark:text-gray-300/25"},q=t("br",null,null,-1),E={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},F={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},H={class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},R=["onClick"],J={key:1,class:"dark:hover:bg-gray-600 hover:bg-gray-100"},U=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-base font-bold text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},"# 1234",-1),G=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"}," Jhon Doe",-1),K=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"}," Vie, 19/05/23",-1),Q=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"}," Lun, 22/05/23",-1),W=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},"STD, Sencilla",-1),X=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"}," $ 3,000.00",-1),Y=t("td",{class:"lg:px-4 px-6 lg:py-4 py-6 lg:text-sm text-left text-gray-500 dark:text-gray-300 whitespace-nowrap border-r border-r-gray-200 dark:border-r-gray-700"},[t("a",{href:"#",class:"text-sky-600 dark:text-white hover:text-sky-700 hover:dark:text-gray-200 underline"},"Ver detalles")],-1),Z=[U,G,K,Q,W,X,Y],A={key:0},P={class:"text-slate-50 font-bold text-xl flex flex-col justify-center items-center gap-4 rounded-xl p-2"},tt={class:"text-base dark:text-slate-50 text-slate-600"},et={class:"flex p-2 w-full max-w-md justify-center space-x-0"},rt=t("button",{innerText:"Previo"},null,-1),at=["innerText"],st=t("button",{innerText:"Siguiente"},null,-1),dt={__name:"BookingsTable",props:{bookings:{type:Object,required:!1}},setup(k){const r=k,b=m({links:[],previusLinks:[],nextLinks:[]});w(()=>{b.value=_(r.bookings),console.clear(),console.log(b.value),console.log(r.bookings)});const _=a=>{if(a.last_page<=1)return{links:[],previusLinks:[],nextLinks:[]};const s=[...a.links];s.unshift(),s.pop();const e=3;let n=[];a.current_page>=a.last_page?n=s.slice(a.current_page-e,a.current_page):n=s.slice(a.current_page,a.current_page+e);const f=s.slice(-1);return{links:s,previusLinks:n,nextLinks:f}},u=a=>{g.fire({title:"Agregar referencia interna para la reservación #"+a.id,input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Confirmar",showLoaderOnConfirm:!0,preConfirm:async s=>fetch(route("bookings.reference",{booking:a.id,reference:s})).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}).catch(e=>{console.log(e),g.showValidationMessage(`Request failed: ${e}`)}),allowOutsideClick:()=>!g.isLoading()}).then(s=>{s.isConfirmed&&(console.log(s.value),g.fire({title:"La referencia ha sido agregada correctamente",icon:"success",confirmButtonColor:"#3085d6"}))})};return(a,s)=>(d(),l("div",null,[t("div",L,[T,t("div",j,[t("table",B,[S,t("tbody",V,[r.bookings.data?(d(!0),l(v,{key:0},C(r.bookings.data,e=>(d(),l("tr",D,[t("td",z,"# "+o(e.id),1),t("td",M,o(e.guest.full_name),1),t("td",N,o(e.check_in_formatted),1),t("td",O,o(e.check_out_formatted),1),t("td",$,[h(o(e.room.type),1),t("span",I," x"+o(e.number_of_rooms),1),q,h(o(e.room.name),1)]),t("td",E,o(e.total_price_formatted),1),t("td",F,o(e.created_at.split("T")[0]),1),t("td",H,[t("p",{onClick:n=>u({id:e.id}),class:"text-sky-600 dark:text-white hover:text-sky-700 hover:dark:text-gray-200 underline"},"Ver detalles",8,R)])]))),256)):(d(),l("tr",J,Z))])])]),r.bookings.links?(d(),l("section",A,[t("div",P,[t("span",tt,"Mostrando "+o(r.bookings.per_page)+" por pagina de "+o(r.bookings.total)+" en total",1),t("div",et,[i(p(y),{disabled:r.bookings.prev_page_url==null,as:"button",href:r.bookings.prev_page_url??"#",class:"min-w-auto w-32 h-10 bg-sky-500 dark:bg-sky-500/50 p-2 rounded-l-xl hover:bg-sky-700 text-white font-semibold transition-all duration-200 ease-in-out border-y-2 border-l-2 flex justify-center items-center",preserveScroll:""},{default:x(()=>[rt]),_:1},8,["disabled","href"]),c("",!0),i(p(y),{"aria-disabled":"true",disabled:"",href:"#",as:"button",class:"min-w-auto h-10 bg-sky-500 dark:bg-sky-500/50 p-2 rounded-none hover:bg-sky-700 text-white font-semibold hover:flex-grow transition-all duration-200 ease-in-out border-2 text-center flex justify-center items-center",preserveScroll:""},{default:x(()=>[t("button",{innerText:`pag. ${r.bookings.current_page}`},null,8,at)]),_:1}),c("",!0),i(p(y),{disabled:r.bookings.next_page_url==null,as:"button",href:r.bookings.next_page_url??"#",class:"min-w-auto w-32 h-10 bg-sky-500 dark:bg-sky-500/50 p-2 rounded-r-xl hover:bg-sky-700 text-white font-semibold transition-all duration-200 ease-in-out overflow-hidden border-y-2 border-r-2 flex justify-center items-center",preserveScroll:""},{default:x(()=>[st]),_:1},8,["disabled","href"])])])])):c("",!0)])]))}};export{dt as default};
