import{v as V,d as v,c as k,w as p,o as S,g as d,a as o,b as e,i as g,H as P,u as s,l as z,I as C,n as $}from"./app-972cd03d.js";import{_ as M}from"./ActionMessage-722b443e.js";import{_ as N}from"./FormSection-2633293e.js";import{a as i,_ as m}from"./TextInput-f326fe53.js";import{_ as c}from"./InputLabel-37638322.js";import{_ as U}from"./PrimaryButton-550d86c5.js";import{_ as B}from"./SecondaryButton-4510cc7b.js";import I from"./Dropzone-9d8b7f78.js";import{_}from"./Tooltip-f4997d02.js";import"./SectionTitle-69395c1b.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"col-span-6 sm:col-span-4"},D={class:"flex"},R=o("div",{class:"tooltip group text-white relative whitespace-nowrap"},[o("svg",{class:"fill-white w-6 ml-4 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[o("path",{d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm168-72c0-30.9 25.1-56 56-56h56.9c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4V272v24H232V272 250.5 236.6l12.1-6.9 44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H224c-4.4 0-8 3.6-8 8l0 6.5-48 0V184zm64 152h48v48H232V336z"})]),o("span",{class:"after:content-[''] after:absolute after:bottom-full after:left-1/2 after:-mr-1 after:border-[5px] after:border-solid after:border-b-2-transparent after:border-t-transparent after:border-r-transparent after:border-l-transparent tooltiptext invisible group-hover:visible absolute top-[125%] left-1/2 -translate-x-1/2 w-max max-w-[17rem] px-4 py-1 bg-white text-black/60 rounded whitespace-pre-wrap"},"Esta sera la imagen Principal (tamaño maximo 2mb)")],-1),E={class:"mt-2"},F={class:"col-span-6 sm:col-span-4"},H={class:"flex"},T={class:"col-span-6 sm:col-span-4"},L={class:"flex"},O=o("br",null,null,-1),j={class:"col-span-6 sm:col-span-2"},q={class:"col-span-6 sm:col-span-2"},X={class:"col-span-6 sm:col-span-4"},G=o("br",null,null,-1),J={class:"col-span-6 sm:col-span-4"},K={class:"flex"},Q=o("br",{class:"hidden sm:block"},null,-1),W={class:"col-span-6 sm:col-span-2"},Y=o("br",{class:"hidden sm:block"},null,-1),me={__name:"AddRoomForm",props:{user:Object},setup(Z){const a=V({_method:"POST",type:"",name:"",description:"",base_capacity:"",max_capacity:"",base_price:"0.00",cover:"",extra_person_price:"0.00"}),u=v(null),r=v(null),x=1024*1024*2,y=()=>{r.value&&r.value.files[0]&&(a.cover=r.value.files[0]),a.post(route("rooms.store"),{errorBag:"storeRoom",preserveScroll:!0,onSuccess:()=>h(),onError:n=>{alert("Error al guardar la habitación"),console.log(n)}})},f=()=>{r.value.click()},b=(n=null)=>{const t=r.value.files[0]??n;if(!t)return;if(t.size&&t.size>x)return alert("La imagen no puede ser mayor a 2MB");a.cover=t;const l=new FileReader;l.onload=w=>{u.value=w.target.result},l.readAsDataURL(t)},h=()=>{var n;(n=r.value)!=null&&n.value&&(r.value.value=null)};return(n,t)=>(S(),k(N,{onSubmitted:y},{title:p(()=>[d(" Información de la habitación ")]),description:p(()=>[d(" Agrega una nueva habitación. ")]),form:p(()=>[o("div",A,[o("input",{ref_key:"photoInput",ref:r,type:"file",class:"hidden",id:"cover",onChange:b},null,544),o("div",D,[e(c,{for:"photo",value:"Imagen Principal"}),R]),o("div",E,[e(I,{onClick:g(f,["prevent"]),onFileDropped:b,style:P(u.value?"background-image: url('"+u.value+"');":"")},null,8,["onClick","style"])]),e(B,{class:"mt-2 mr-2",type:"button",onClick:g(f,["prevent"])},{default:p(()=>[d(" Select A New Photo ")]),_:1},8,["onClick"]),e(i,{message:s(a).errors.cover,class:"mt-2"},null,8,["message"])]),o("div",F,[o("div",H,[e(c,{for:"name",value:"Nombre"}),e(_,{text:"El nombre que se mostrara al publico"})]),e(m,{id:"name",modelValue:s(a).name,"onUpdate:modelValue":t[0]||(t[0]=l=>s(a).name=l),type:"text",class:"mt-1 block w-full",autocomplete:"name"},null,8,["modelValue"]),e(i,{message:s(a).errors.name,class:"mt-2"},null,8,["message"])]),o("div",T,[o("div",L,[e(c,{for:"type",value:"Tipo"}),e(_,{text:"Nombre interno o referencia interna de la habitación, Sencilla, Doble Suite etc.."})]),e(m,{id:"type",modelValue:s(a).type,"onUpdate:modelValue":t[1]||(t[1]=l=>s(a).type=l),type:"text",class:"mt-1 block w-full",autocomplete:"type"},null,8,["modelValue"]),e(i,{message:s(a).errors.type,class:"mt-2"},null,8,["message"])]),O,o("div",j,[e(c,{for:"base_capacity",value:"Capacidad Base"}),e(m,{id:"base_capacity",modelValue:s(a).base_capacity,"onUpdate:modelValue":t[2]||(t[2]=l=>s(a).base_capacity=l),type:"text",class:"mt-1 block w-full",autocomplete:"base_capacity"},null,8,["modelValue"]),e(i,{message:s(a).errors.base_capacity,class:"mt-2"},null,8,["message"])]),o("div",q,[e(c,{for:"max_capacity",value:"Capacidad Maxima"}),e(m,{id:"max_capacity",modelValue:s(a).max_capacity,"onUpdate:modelValue":t[3]||(t[3]=l=>s(a).max_capacity=l),type:"text",class:"mt-1 block w-full",autocomplete:"max_capacity"},null,8,["modelValue"]),e(i,{message:s(a).errors.max_capacity,class:"mt-2"},null,8,["message"])]),o("div",X,[e(c,{for:"description",value:"Descripción"}),z(o("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=l=>s(a).description=l),type:"description",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",autocomplete:"description"},null,512),[[C,s(a).description]]),e(i,{message:s(a).errors.description,class:"mt-2"},null,8,["message"])]),G,o("div",J,[o("div",K,[e(c,{for:"base_price",value:"Precio base"}),e(_,{text:"Precio para la distribución en MXN Sin Impuestos para la habitación"})]),e(m,{id:"base_price",modelValue:s(a).base_price,"onUpdate:modelValue":t[5]||(t[5]=l=>s(a).base_price=l),type:"text",class:"mt-1 block w-full",autocomplete:"base_price"},null,8,["modelValue"]),e(i,{message:s(a).errors.base_price,class:"mt-2"},null,8,["message"])]),Q,o("div",W,[e(c,{for:"extra_person_price",value:"Precio por persona extra"}),e(m,{id:"extra_person_price",modelValue:s(a).extra_person_price,"onUpdate:modelValue":t[6]||(t[6]=l=>s(a).extra_person_price=l),type:"text",class:"mt-1 block w-full",autocomplete:"extra_person_price"},null,8,["modelValue"]),e(i,{message:s(a).errors.extra_person_price,class:"mt-2"},null,8,["message"])]),Y]),actions:p(()=>[e(M,{on:s(a).recentlySuccessful,class:"mr-3"},{default:p(()=>[d(" Saved. ")]),_:1},8,["on"]),e(U,{id:"save_room",class:$({"opacity-25":s(a).processing}),disabled:s(a).processing},{default:p(()=>[d(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}};export{me as default};
