import{O as w}from"./OutlinedButton-467a9f62.js";import{a as h}from"./DialogModal-165771ee.js";import{o as _,e as v,r as y,n as x,d as f,b as g,w as l,a as e,u as m,t as d,F as k,x as C,g as b,j as $}from"./app-96dd2335.js";import"./_plugin-vue_export-helper-c27b6911.js";const B={__name:"ActionButton",props:{bgColor:{type:String,default:null},as:{type:String,default:"button"}},setup(p){const t=p,s={primary:"bg-sky-500 hover:bg-sky-700",secondary:"bg-green-500 hover:bg-green-700",danger:"bg-red-500 hover:bg-red-700",warning:"bg-yellow-500 hover:bg-yellow-700",info:"bg-blue-500 hover:bg-blue-700",light:"bg-gray-200 hover:bg-gray-400",dark:"bg-gray-800 hover:bg-gray-900"},o=()=>t.bgColor!==null?t.bgColor:t.as!=null?s[t.as]??s.primary:s.primary;return(n,u)=>(_(),v("button",{class:x(o()+" px-4 py-2 rounded-md text-white font-bold hover:shadow-2xl hover:box-shadow dark:hover:box-shadow-dark transition-all duration-200")},[y(n.$slots,"default")],2))}};const D={class:"p-3 py-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},E={class:"flex justify-between items-center mb-8"},O=e("h1",{class:"text-2xl font-medium text-gray-900 dark:text-white mb-4"}," Detalles del usuario ",-1),N={class:"dark:text-white text-gray-600 py-6 px-3 lg:px-12 overflow-auto border border-gray-200 dark:border-gray-700 rounded-lg"},S={class:"flex flex-wrap text-xl"},V=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"ID",-1),j={class:"w-1/2 lg:w-2/3"},R=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),q=e("div",{class:"w-full lg:h-4 h-12"},null,-1),z={class:"flex flex-wrap text-xl"},A=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Nombre",-1),F={class:"w-1/2 lg:w-2/3"},M=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),T=e("div",{class:"w-full lg:h-4 h-12"},null,-1),U={class:"flex flex-wrap text-xl"},G=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Rol",-1),H={class:"w-1/2 lg:w-2/3"},I={class:"flex gap-2"},L=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),P=e("div",{class:"w-full lg:h-4 h-12"},null,-1),J={class:"flex flex-wrap text-xl"},K=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Correo",-1),Q={class:"w-1/2 lg:w-2/3"},W=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),te={__name:"UserDetails",props:{user:{type:Object,required:!0}},setup(p){const t=p,s=f(!1),o=f({title:"",content:""});console.log(t.user);const n=a=>t.user.roles.filter(r=>r.name===a).length>0,u=async(a,r)=>{const c=await(await C.get(route("sync.user.role",{user:a,role:r}))).data;c.code==="200"?(t.user.roles.pop(),t.user.roles.push(c.role),o.value.title="Operación exitosa",o.value.content="Se ha asignado el rol con éxito."):c.code==="403"?(o.value.title="No se pudo asignar el rol",o.value.content="Ocurrió un error al asignar el rol, Puede que no tengas los permisos necesarios para realizar esta acción."):(o.value.title="Ha ocurrido un error",o.value.content="Ocurrió un error al asignar el rol, por favor intenta de nuevo. si el error persiste contacta con el administrador."),console.log(c),s.value=!0};return(a,r)=>(_(),v(k,null,[g(h,{show:s.value,onClose:r[1]||(r[1]=i=>s.value=!1)},{title:l(()=>[b(d(o.value.title),1)]),content:l(()=>[b(d(o.value.content),1)]),footer:l(()=>[g(w,{onClick:r[0]||(r[0]=i=>s.value=!1)},{default:l(()=>[b(" Entendido ")]),_:1})]),_:1},8,["show"]),e("div",null,[e("div",D,[e("div",E,[O,g(m($),{method:"DELETE",as:"button",href:a.route("users.delete",{user:t.user.id})},{default:l(()=>[g(B,{as:"danger"},{default:l(()=>[b(" Eliminar usuario ")]),_:1})]),_:1},8,["href"])]),e("div",N,[e("div",S,[V,e("div",j,"#"+d(t.user.id),1),R]),q,e("div",z,[A,e("div",F,d(t.user.name),1),M]),T,e("div",U,[G,e("div",H,[e("div",I,[e("span",{onClick:r[2]||(r[2]=i=>u(t.user.id,1)),class:x(n("admin")?"bg-yellow-cta text-white border border-yellow-cta-acent inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-1 text-xs font-semibold text-green-600 cursor-pointer")}," Admin ",2),e("span",{onClick:r[3]||(r[3]=i=>u(t.user.id,2)),class:x(n("ventas")?"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold bg-yellow-cta text-white cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-600 cursor-pointer")}," Ventas ",2),e("span",{onClick:r[4]||(r[4]=i=>u(t.user.id,3)),class:x(n("general")?"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold bg-yellow-cta text-white cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-sky-50 px-2 py-1 text-xs font-semibold text-sky-600 cursor-pointer")}," General ",2)])]),L]),P,e("div",J,[K,e("div",Q,d(t.user.email),1),W])])])])],64))}};export{te as default};
