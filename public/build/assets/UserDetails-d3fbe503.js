import{O as _}from"./OutlinedButton-0a616852.js";import{a as w}from"./DialogModal-95cf693b.js";import{d as p,e as v,b as u,w as r,a as e,u as m,t as n,n as f,F as h,x as y,o as k,g as c,j as C}from"./app-a6fa440e.js";import{P as D}from"./PrimButton-69bd4f21.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"p-3 py-6 lg:p-8 bg-white dark:bg-gray-800 dark:bg-gradient-to-bl dark:from-gray-700/50 dark:via-transparent border-b border-gray-200 dark:border-gray-700"},O={class:"flex justify-between items-center mb-8"},$=e("h1",{class:"text-2xl font-medium text-gray-900 dark:text-white mb-4"}," Detalles del usuario ",-1),B={class:"dark:text-white text-gray-600 py-6 px-3 lg:px-12 overflow-auto border border-gray-200 dark:border-gray-700 rounded-lg"},N={class:"flex flex-wrap text-xl"},V=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"ID",-1),j={class:"w-1/2 lg:w-2/3"},P=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),R=e("div",{class:"w-full lg:h-4 h-12"},null,-1),q={class:"flex flex-wrap text-xl"},z=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Nombre",-1),F={class:"w-1/2 lg:w-2/3"},M=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),S=e("div",{class:"w-full lg:h-4 h-12"},null,-1),T={class:"flex flex-wrap text-xl"},U=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Rol",-1),A={class:"w-1/2 lg:w-2/3"},G={class:"flex gap-2"},H=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),I=e("div",{class:"w-full lg:h-4 h-12"},null,-1),L={class:"flex flex-wrap text-xl"},J=e("div",{class:"w-1/2 lg:w-1/3 font-bold text-xl"},"Correo",-1),K={class:"w-1/2 lg:w-2/3"},Q=e("div",{class:"w-full border-b border-b-gray-200 dark:border-gray-700 grow mt-4"},null,-1),te={__name:"UserDetails",props:{user:{type:Object,required:!0}},setup(b){const s=b,i=p(!1),o=p({title:"",content:""});console.log(s.user);const x=l=>s.user.roles.filter(t=>t.name===l).length>0,g=async(l,t)=>{const d=await(await y.get(route("sync.user.role",{user:l,role:t}))).data;d.code==="200"?(s.user.roles.pop(),s.user.roles.push(d.role),o.value.title="Operación exitosa",o.value.content="Se ha asignado el rol con éxito."):d.code==="403"?(o.value.title="No se pudo asignar el rol",o.value.content="Ocurrió un error al asignar el rol, Puede que no tengas los permisos necesarios para realizar esta acción."):(o.value.title="Ha ocurrido un error",o.value.content="Ocurrió un error al asignar el rol, por favor intenta de nuevo. si el error persiste contacta con el administrador."),console.log(d),i.value=!0};return(l,t)=>(k(),v(h,null,[u(w,{show:i.value,onClose:t[1]||(t[1]=a=>i.value=!1)},{title:r(()=>[c(n(o.value.title),1)]),content:r(()=>[c(n(o.value.content),1)]),footer:r(()=>[u(_,{onClick:t[0]||(t[0]=a=>i.value=!1)},{default:r(()=>[c(" Entendido ")]),_:1})]),_:1},8,["show"]),e("div",null,[e("div",E,[e("div",O,[$,u(m(C),{method:"DELETE",href:l.route("users.delete",{user:s.user.id})},{default:r(()=>[u(D,{class:"bg-red-500 hover:bg-red-700"},{default:r(()=>[c(" Eliminar usuario ")]),_:1})]),_:1},8,["href"])]),e("div",B,[e("div",N,[V,e("div",j,"#"+n(s.user.id),1),P]),R,e("div",q,[z,e("div",F,n(s.user.name),1),M]),S,e("div",T,[U,e("div",A,[e("div",G,[e("span",{onClick:t[2]||(t[2]=a=>g(s.user.id,1)),class:f(x("admin")?"bg-yellow-cta text-white border border-yellow-cta-acent inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-green-50 px-2 py-1 text-xs font-semibold text-green-600 cursor-pointer")}," Admin ",2),e("span",{onClick:t[3]||(t[3]=a=>g(s.user.id,2)),class:f(x("ventas")?"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold bg-yellow-cta text-white cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-600 cursor-pointer")}," Ventas ",2),e("span",{onClick:t[4]||(t[4]=a=>g(s.user.id,3)),class:f(x("general")?"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold bg-yellow-cta text-white cursor-pointer":"inline-flex items-center gap-1 rounded-full bg-sky-50 px-2 py-1 text-xs font-semibold text-sky-600 cursor-pointer")}," General ",2)])]),H]),I,e("div",L,[J,e("div",K,n(s.user.email),1),Q])])])])],64))}};export{te as default};
